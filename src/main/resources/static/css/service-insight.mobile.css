/* ===== Service Insight: 모바일 전용 오버라이드 =====
   - 사이드바 숨김, DnD 힌트 제거, 차트 컴팩트, FAB(모바일만) 등
*/

.service-insight__container { height: auto !important; overflow: visible !important; }
.service-insight__metrics,
.service-insight__chart    { height: auto !important; min-height: 0 !important; overflow: visible !important; }

/* 사이드바는 모바일에서 숨김(바텀시트 이용) */
.service-insight__metrics { display: none !important; }

/* DnD affordance 제거 */
.service-insight .si-plot__datasets,
.service-insight .si-dropzone { display: none !important; }

/* 차트 높이 컴팩트 */
.si-plots .si-plot__surface { height: 280px !important; }

/* FAB: 모바일에서만 표출 */
#si-fab {
    display: inline-flex !important;
    position: fixed; right: max(16px, env(safe-area-inset-right));
    bottom: calc(max(16px, env(safe-area-inset-bottom)) + 8px);
    width: 56px; height: 56px; z-index: 1055;
    align-items: center; justify-content: center;
    border-radius: 50%; padding: 0; line-height: 1;
}

/* 바텀시트 */
.offcanvas.offcanvas-bottom#siDataPicker {
    height: 75vh; border-top-left-radius: 1rem; border-top-right-radius: 1rem;
    box-shadow: var(--shadow-overlay);
}
.offcanvas.offcanvas-bottom#siDataPicker .offcanvas-header { padding: 0.75rem 1rem; }
.offcanvas.offcanvas-bottom#siDataPicker .offcanvas-body   { padding: 0.5rem 1rem 1rem; overflow: auto; }

/* 툴바 줄바꿈 */
.si-plots__toolbar { flex-direction: column; align-items: stretch; gap: 1rem; }
.si-range { width: 100%; gap: .75rem; }
.si-range__bar { width: 100%; align-items: stretch; gap: .6rem; }
.si-range__label { font-size: .78rem; letter-spacing: .06em; }
.si-range__quick { flex: 1 1 auto; width: 100%; overflow-x: auto; padding-bottom: .15rem; gap: .5rem; }
.si-range__quick::-webkit-scrollbar { height: 6px; }
.si-range__quick::-webkit-scrollbar-thumb { background: rgba(148,163,184,.55); border-radius: 999px; }
.si-range__btn,
.si-range__custom-toggle { flex: 0 0 auto; }
.si-range__form { width: 100%; flex-direction: column; align-items: stretch; gap: .65rem; }
.si-range__fields { width: 100%; flex-direction: column; align-items: stretch; gap: .65rem; }
.si-range__fields .form-control { width: 100%; min-width: 0; }
.si-range__dash { display: none; }
.si-range__actions { width: 100%; justify-content: stretch; }
.si-range__apply { width: 100%; padding-block: .65rem; }
.si-plots__toolbar .si-actions { display: flex; gap: .5rem; flex-wrap: wrap; }

/* 안전 여백 */
.service-insight { padding-bottom: max(72px, env(safe-area-inset-bottom)); }
