<!-- ===== resources/templates/fragments/_navbar.html ===== -->
<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<body>
<nav th:fragment="navbar(pageTitle)" class="navbar navbar-expand-lg bg-white shadow-sm py-3 px-4 sticky-top">
    <div class="d-flex align-items-center w-100">
        <button class="btn btn-outline-secondary d-lg-none me-3" type="button" data-bs-toggle="offcanvas" data-bs-target="#sidebarOffcanvas" aria-controls="sidebarOffcanvas">
            <i class="bi bi-list"></i>
        </button>
        <div class="flex-grow-1">
            <h2 class="h5 mb-0 fw-semibold" th:text="${pageTitle}">페이지 제목</h2>
        </div>
        <div class="d-flex align-items-center gap-3">
            <div class="dropdown">
                <button class="btn p-0 border-0 bg-transparent d-flex align-items-center text-decoration-none dropdown-toggle dropdown-toggle-no-caret"
                        type="button" data-bs-toggle="dropdown" aria-expanded="false">
                    <img th:src="${currentAdminProfile.profileImageUrl()}" th:alt="${currentAdminProfile.nickname()}" src="https://images.unsplash.com/photo-1524504388940-b1c1722653e1" alt="관리자" class="rounded-circle" width="40" height="40">
                    <!-- 모바일에서는 텍스트 숨김, 데스크탑 이상에서만 표출 -->
                    <div class="ms-2 text-start d-none d-lg-block">
                        <div class="fw-semibold" th:text="${currentAdminProfile.nickname()}">운영자</div>
                        <small class="text-muted" th:text="${currentAdminProfile.email()}">admin@saerok.app</small>
                        <div class="text-muted small" th:if="${currentAdminProfile.hasRoleDescriptions()}"
                             th:text="${#strings.listJoin(currentAdminProfile.roleDescriptions(), ', ')}">읽기 전용 관리자</div>
                    </div>
                </button>
                <ul class="dropdown-menu dropdown-menu-end shadow">
                    <li class="dropdown-header">
                        <div class="fw-semibold" th:text="${currentAdminProfile.nickname()}">운영자</div>
                        <small class="text-muted" th:text="${currentAdminProfile.email()}">admin@saerok.app</small>
                    </li>
                    <li th:if="${currentAdminProfile.hasRoleDescriptions()}">
                        <span class="dropdown-item-text small text-muted d-flex align-items-start">
                            <i class="bi bi-shield-check text-primary me-2 mt-1"></i>
                            <span th:text="${#strings.listJoin(currentAdminProfile.roleDescriptions(), ', ')}">읽기 전용 관리자</span>
                        </span>
                    </li>
                    <li th:unless="${currentAdminProfile.hasRoleDescriptions()}">
                        <span class="dropdown-item-text small text-muted">권한 정보가 없습니다.</span>
                    </li>
                    <li><hr class="dropdown-divider"></li>
                    <li>
                        <form th:action="@{/logout}" method="post">
                            <button type="submit" class="dropdown-item text-danger w-100">
                                <i class="bi bi-box-arrow-right me-2"></i>로그아웃
                            </button>
                        </form>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</nav>
</body>
</html>
